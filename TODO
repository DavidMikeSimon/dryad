- Allow optional use of a catious mode which:
  - Makes sure all attribute keys are valid in XML
  - Makes sure all tags are valid in XML
  - In the HTML taglib, checks attributes for tag-specific validity
  - Flags attempts to use tag return values with helpful error messages
  - Does not cause a performance hit if not in use (use monkey-patches, not lots of ifs)
- Add methods like dryml's before, after, prepend, append stuff, which check against tag name and class
- Have all tags return nil (so that attempts to use tag return values cause errors)
- Prevent AttributesHash from being modified in place after being setup
- Consider freezing instance variables in sub contexts
- Don't set @io until after tag libraries loaded, complain usefully if anything tries to write before then
- If creating a block from recorded statements and there aren't any, make nil instead, not a no-op block
  - That way any class that requires a block can simply do that by yielding without checking
  - Also, user can use convenient block syntax on self-closing tags (i.e. to do an after on a <p/>)
  - For if the user really wants to create a no-op block, maybe create a "no_content" tag
- This whole record/replay thing is a bad idea; just proceed to yield as soon as we get any tag call
  - This would require complaining if the user attempts a :before or :prepend after opening the tag
- Test that one tag-defining module can depend on another, and that including the base manually after that won't
  overwrite the child definitions
